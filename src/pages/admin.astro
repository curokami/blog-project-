---
// src/pages/admin.astro
---
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Content Manager</title>
  <script src="https://unpkg.com/netlify-cms@2.10.161/dist/netlify-cms.js"></script>
  <script src="/admin/config.js" is:inline></script>
</head>
<body>
  <script is:inline>
    // CMS の初期化
    if (window.CMS && window.CMS_CONFIG) {
      // カスタム認証ハンドラーを登録
      window.CMS.registerAuthenticationProvider(new window.CustomAuth());
      // グローバル変数の設定でCMSを初期化
      window.CMS.init({ config: window.CMS_CONFIG });
    }
  </script>
</body>
</html>